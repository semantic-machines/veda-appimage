{"version":3,"sources":["../../../../source-web/js/common/lib/riot.js"],"names":["default_escape_fn","str","replace","char","render_escape","riot","observable","el","on","one","off","trigger","callbacks","slice","events","fn","name","pos","push","typed","cb","arr","i","splice","args","call","arguments","fns","c","reduce","p","then","apply","concat","Promise","resolve","FN","template_escape","render","tmpl","data","escape_fn","Function","pop","hash","type","location","pops","currentHash","window","listen","addEventListener","doc","document","attachEvent","route","to","prevent","history","pushState"],"mappings":"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","sourcesContent":["/* Riot 1.0.4, @license MIT, (c) 2014 Muut Inc + contributors */\n\nvar riot = {};\n\nexport default riot;\n\nriot.observable = function(el) {\n\n  if (el.on && el.one && el.off && el.trigger) { return el; }\n\n  var callbacks = {}, slice = [].slice;\n\n  el.on = function(events, fn) {\n    if (typeof fn === \"function\") {\n      events.replace(/[^\\s]+/g, function(name, pos) {\n        (callbacks[name] = callbacks[name] || []).push(fn);\n        fn.typed = pos > 0;\n      });\n    }\n    return el;\n  };\n\n  el.off = function(events, fn) {\n    if (events === \"*\") callbacks = {};\n    else if (fn) {\n      var arr = callbacks[events];\n      for (var i = 0, cb; (cb = arr && arr[i]); ++i) {\n        if (cb === fn) { arr.splice(i, 1); i--; }\n      }\n    } else {\n      events.replace(/[^\\s]+/g, function(name) {\n        callbacks[name] = [];\n      });\n    }\n    return el;\n  };\n\n  // only single event supported\n  el.one = function(name, fn) {\n    if (fn) fn.one = true;\n    return el.on(name, fn);\n  };\n\n  el.trigger = function(name) {\n    var args = slice.call(arguments, 1),\n      fns = callbacks[name] || [],\n      c = 0;\n    return fns.reduce((p, fn, i) => p.then(() => {\n      if (fn.one) { fns.splice(i - c, 1); c++; }\n      return fn.apply(el, fn.typed ? [name].concat(args) : args);\n    }), Promise.resolve()).then(() => el);\n  };\n\n  return el;\n\n};\n\nvar FN = {}, // Precompiled templates (JavaScript functions)\n  template_escape = {\"\\\\\": \"\\\\\\\\\", \"\\n\": \"\\\\n\", \"\\r\": \"\\\\r\", \"'\": \"\\\\'\"},\n  render_escape = {'&': '&amp;', '\"': '&quot;', '<': '&lt;', '>': '&gt;'};\n\nfunction default_escape_fn(str, key) {\n  return str == null ? '' : (str+'').replace(/[&\\\"<>]/g, function(char) {\n    return render_escape[char];\n  });\n}\n\nriot.render = function(tmpl, data, escape_fn) {\n  if (escape_fn === true) escape_fn = default_escape_fn;\n  tmpl = tmpl || '';\n\n  return (FN[tmpl] = FN[tmpl] || new Function(\"_\", \"e\", \"return '\" +\n    tmpl.replace(/[\\\\\\n\\r']/g, function(char) {\n      return template_escape[char];\n    }).replace(/{\\s*([\\w\\.]+)\\s*}/g, \"' + (e?e(_.$1,'$1'):_.$1||(_.$1==null?'':_.$1)) + '\") + \"'\")\n  )(data, escape_fn);\n};\n/* Cross browser popstate */\n(function () {\n  // for browsers only\n  if (typeof window === \"undefined\") return;\n\n  var currentHash,\n    pops = riot.observable({}),\n    listen = window.addEventListener,\n    doc = document;\n\n  function pop(hash) {\n    hash = hash.type ? location.hash : hash;\n    //if (hash !== currentHash) pops.trigger(\"pop\", hash);\n    pops.trigger(\"pop\", hash);\n    currentHash = hash;\n  }\n\n  /* Always fire pop event upon page load (normalize behaviour across browsers) */\n\n  // standard browsers\n  if (listen) {\n    listen(\"popstate\", pop, false);\n    //doc.addEventListener(\"DOMContentLoaded\", pop, false);\n\n  // IE\n  } else {\n    doc.attachEvent(\"onreadystatechange\", function() {\n      //if (doc.readyState === \"complete\") pop(\"\");\n      pop(\"\");\n    });\n  }\n\n  /* Change the browser URL or listen to changes on the URL */\n  riot.route = function(to, prevent) {\n    // listen\n    if (typeof to === \"function\") return pops.on(\"pop\", to);\n\n    // fire\n    if (history.pushState) history.pushState(0, 0, to);\n    if (!prevent) pop(to);\n  };\n})();\n"],"file":"riot.js"}