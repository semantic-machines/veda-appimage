{"version":3,"sources":["../../../source-web/js/browser/notify.js"],"names":["Notify","prototype","_single","notify","type","code","name","message","console","log","Date","toLocaleString","toUpperCase","iconClass","length","substring","HTML","fragment","document","createDocumentFragment","note","createElement","appendChild","innerHTML","trim","container","insertBefore","firstChild","setTimeout","removeChild","veda","styles","wrapper","id","body","scopedStyle","setAttribute","textContent"],"mappings":"AAAA;AAEA,a,+DAMA;AACA;AACA;AACA,GACA,QAASA,CAAAA,CAAT,EAAkB,OACZA,CAAAA,CAAM,CAACC,SAAP,CAAiBC,OADL,CAEPF,CAAM,CAACC,SAAP,CAAiBC,OAFV,CAKRF,CAAM,CAACC,SAAP,CAAiBC,OAAjB,CAA2BC,CACpC,CAgCD;AACA;AACA;AACA;AACA;AACA,GACA,QAASA,CAAAA,CAAT,EAAsE,IAArDC,CAAAA,CAAqD,wDAA9C,MAA8C,8CAArCC,IAAqC,CAArCA,CAAqC,YAA9B,EAA8B,OAA1BC,IAA0B,CAA1BA,CAA0B,YAAnB,EAAmB,OAAfC,OAAe,CAAfA,CAAe,YAAL,EAAK,GACpEC,OAAO,CAACC,GAAR,WAAe,GAAIC,CAAAA,IAAJ,GAAWC,cAAX,EAAf,cAA+CP,CAAI,CAACQ,WAAL,EAA/C,gBAAwEP,CAAxE,eAAkFC,CAAlF,eAA4FC,CAA5F,EADoE,CAGpE,GAAIM,CAAAA,CAAJ,CAEK,QAL+D,GAI5DT,CAJ4D,CAKrDS,CAAS,CAAG,iBALyC,CAM/D,MAN+D,GAI5DT,CAJ4D,CAMvDS,CAAS,CAAG,gBAN2C,CAO/D,SAP+D,GAI5DT,CAJ4D,CAOpDS,CAAS,CAAG,iBAPwC,CAQ/D,SAR+D,GAI5DT,CAJ4D,CAQpDS,CAAS,CAAG,uBARwC,QAUpEA,CAAS,CAAG,YAAcA,CAV0C,CAWpEN,CAAO,CAAGA,CAAO,EAAqB,EAAjB,CAAAA,CAAO,CAACO,MAAnB,CAAiCP,CAAO,CAACQ,SAAR,CAAkB,CAAlB,CAAqB,EAArB,EAA2B,KAA5D,CAAoER,CAXV,IAa9DS,CAAAA,CAAI,0CACkBZ,CADlB,qCAESS,CAFT,sCAGIR,CAHJ,qCAIIC,CAJJ,mCAKEC,CALF,2BAb0D,CAsB9DU,CAAQ,CAAGC,QAAQ,CAACC,sBAAT,EAtBmD,CAuB9DC,CAAI,CAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAvBuD,CAwBpEJ,CAAQ,CAACK,WAAT,CAAqBF,CAArB,CAxBoE,CAyBpEA,CAAI,CAACG,SAAL,CAAiBP,CAAI,CAACQ,IAAL,EAzBmD,CA0BpEC,CAAS,CAACC,YAAV,CAAuBT,CAAvB,CAAiCQ,CAAS,CAACE,UAA3C,CA1BoE,CA4BpEC,UAAU,CAAC,UAAY,CACrBH,CAAS,CAACI,WAAV,CAAsBT,CAAtB,CACD,CAFS,CAEP,GAFO,CAGX,C,0CAnFMU,C,4CAEQA,CAAI,CAAC9B,MAAL,CAAcA,C,EAcvB+B,C,6PAgBAC,C,CAAUd,QAAQ,CAACG,aAAT,CAAuB,KAAvB,C,CAChBW,CAAO,CAACC,EAAR,CAAa,sB,CACbf,QAAQ,CAACgB,IAAT,CAAcZ,WAAd,CAA0BU,CAA1B,C,CAEMP,C,CAAYP,QAAQ,CAACG,aAAT,CAAuB,KAAvB,C,CAClBI,CAAS,CAACQ,EAAV,CAAe,e,CAETE,C,CAAcjB,QAAQ,CAACG,aAAT,CAAuB,OAAvB,C,CACpBc,CAAW,CAACC,YAAZ,CAAyB,QAAzB,CAAmC,EAAnC,C,CACAD,CAAW,CAACE,WAAZ,CAA0BN,CAAM,CAACP,IAAP,E,CAE1BQ,CAAO,CAACV,WAAR,CAAoBa,CAApB,C,CACAH,CAAO,CAACV,WAAR,CAAoBG,CAApB,C","sourcesContent":["// Notify module\n\n'use strict';\n\nimport veda from '../common/veda.js';\n\nexport default veda.Notify = Notify;\n\n/**\n * Notify singleton constructor\n * @return {Function} notify function\n */\nfunction Notify() {\n  if (Notify.prototype._single) {\n    return Notify.prototype._single;\n  }\n\n  return (Notify.prototype._single = notify);\n}\n\nconst styles = `\n  #notifications {\n    max-width: 50%;\n    max-height: 50%;\n    position: fixed;\n    bottom: 10px;\n    right: 10px;\n    z-index: 99999;\n    overflow: hidden;\n  }\n  #notifications > * {\n    display: block;\n    white-space: nowrap;\n  }\n`;\n\nconst wrapper = document.createElement('div');\nwrapper.id = 'notification-wrapper';\ndocument.body.appendChild(wrapper);\n\nconst container = document.createElement('div');\ncontainer.id = 'notifications';\n\nconst scopedStyle = document.createElement('style');\nscopedStyle.setAttribute('scoped', '');\nscopedStyle.textContent = styles.trim();\n\nwrapper.appendChild(scopedStyle);\nwrapper.appendChild(container);\n\n/**\n * Notify function\n * @param {string} type - notification type following bootstrap contextual classes ( info | success | warning | danger )\n * @param {Object} note - note object with properties 'code', 'name', 'message'\n * @return {void}\n */\nfunction notify (type = 'info', {code = '', name = '', message = ''}) {\n  console.log(`${new Date().toLocaleString()} [${type.toUpperCase()}] - ${code} - ${name} - ${message}`);\n\n  let iconClass;\n  switch (type) {\n  case 'danger': iconClass = 'fa-times-circle'; break;\n  case 'info': iconClass = 'fa-info-circle'; break;\n  case 'success': iconClass = 'fa-check-circle'; break;\n  case 'warning': iconClass = 'fa-exclamation-circle'; break;\n  }\n  iconClass = 'fa fa-lg ' + iconClass;\n  message = message && message.length > 70 ? message.substring(0, 70) + '...' : message;\n\n  const HTML = `\n    <div class=\"alert alert-${type}\">\n      <span class=\"${iconClass}\"></span>\n      <strong>${code}</strong>\n      <strong>${name}</strong>\n      <span>${message}</span>\n    </div>\n  `;\n\n  const fragment = document.createDocumentFragment();\n  const note = document.createElement('div');\n  fragment.appendChild(note);\n  note.innerHTML = HTML.trim();\n  container.insertBefore(fragment, container.firstChild);\n\n  setTimeout(function () {\n    container.removeChild(note);\n  }, 5000);\n}\n"],"file":"notify.js"}