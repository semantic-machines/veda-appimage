{"version":3,"sources":["../../../source-web/js/browser/line_status_listener.js"],"names":["statusHandler","status","lineStatus","document","getElementById","style","display","classList","remove","add","veda","styles","HTML","wrapper","createElement","id","innerHTML","scopedStyle","setAttribute","textContent","trim","appendChild","body","insertBefore","firstChild","on"],"mappings":"2EAmCA;AACA;AACA;AACA,GACA,QAASA,CAAAA,CAAT,CAAuBC,CAAvB,CAA+B,CAC7B,GAAMC,CAAAA,CAAU,CAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAnB,CACAF,CAAU,CAACG,KAAX,CAAiBC,OAAjB,CAA2B,OAFE,CAG7BJ,CAAU,CAACK,SAAX,CAAqBC,MAArB,CAA4B,QAA5B,CAAsC,SAAtC,CAAiD,SAAjD,CAH6B,CAI7BN,CAAU,CAACK,SAAX,CAAqBE,GAArB,CAAyBR,CAAzB,CACD,C,0CA1CMS,C,gCAFP;AAIMC,C,wOAYAC,C,icAQAC,C,CAAUV,QAAQ,CAACW,aAAT,CAAuB,KAAvB,C,CAChBD,CAAO,CAACE,EAAR,CAAa,c,CACbF,CAAO,CAACG,SAAR,CAAoBJ,C,CAEdK,C,CAAcd,QAAQ,CAACW,aAAT,CAAuB,OAAvB,C,CACpBG,CAAW,CAACC,YAAZ,CAAyB,QAAzB,CAAmC,EAAnC,C,CACAD,CAAW,CAACE,WAAZ,CAA0BR,CAAM,CAACS,IAAP,E,CAC1BP,CAAO,CAACQ,WAAR,CAAoBJ,CAApB,C,CAEAd,QAAQ,CAACmB,IAAT,CAAcC,YAAd,CAA2BV,CAA3B,CAAoCV,QAAQ,CAACmB,IAAT,CAAcE,UAAlD,C,CAYAd,CAAI,CAACe,EAAL,CAAQ,QAAR,CAAkBzB,CAAlB,C","sourcesContent":["// Listen and display online/offline status\n\nimport veda from '../common/veda.js';\n\nconst styles = `\n  #line-status {\n    font-size: 0.7em;\n    margin: 0.7em 0 -2em;\n  }\n  #line-status.online > *:not(.online),\n  #line-status.offline > *:not(.offline),\n  #line-status.limited > *:not(.limited) {\n    display: none;\n  }\n`;\n\nconst HTML = `\n  <div class=\"container-fluid text-right online\" id=\"line-status\" style=\"display:none;\">\n    <span class=\"online\"><span class=\"text-success glyphicon glyphicon-ok-sign\"></span> ONLINE</span>\n    <span class=\"limited\"><span class=\"text-warning glyphicon glyphicon-exclamation-sign\"></span> LIMITED</span>\n    <span class=\"offline\"><span class=\"text-danger glyphicon glyphicon-remove-sign\"></span> OFFLINE</span>\n  </div>\n`;\n\nconst wrapper = document.createElement('div');\nwrapper.id = 'line-wrapper';\nwrapper.innerHTML = HTML;\n\nconst scopedStyle = document.createElement('style');\nscopedStyle.setAttribute('scoped', '');\nscopedStyle.textContent = styles.trim();\nwrapper.appendChild(scopedStyle);\n\ndocument.body.insertBefore(wrapper, document.body.firstChild);\n\n/**\n * Veda status event handler. Sets the line status indicator\n * @param {string} status\n */\nfunction statusHandler(status) {\n  const lineStatus = document.getElementById('line-status');\n  lineStatus.style.display = 'block';\n  lineStatus.classList.remove('online', 'limited', 'offline');\n  lineStatus.classList.add(status);\n}\nveda.on('status', statusHandler);\n"],"file":"line_status_listener.js"}